# ローカル画面共有ツール

同じWiFiネットワーク内でのリアルタイム画面共有を可能にするWebアプリケーションです。

## 特徴

- **画面全体の共有**: デスクトップ全体を共有
- **ウィンドウ共有**: 特定のアプリケーションウィンドウを共有
- **ブラウザタブ共有**: 特定のブラウザタブを共有
- **複数視聴者対応**: 複数のユーザーが同時に視聴可能
- **リアルタイム通信**: WebRTCによる低遅延の画面共有
- **レスポンシブデザイン**: モバイルデバイスでも利用可能

## 技術スタック

- **バックエンド**: TypeScript + Express.js + Socket.IO
- **フロントエンド**: HTML5 + CSS3 + JavaScript (WebRTC)
- **リアルタイム通信**: WebSocket (Socket.IO) + WebRTC

## セットアップ

### 必要な環境

- Node.js 16.0以上
- npm または yarn

### インストール手順

1. **依存関係のインストール**
   ```bash
   npm install
   ```

2. **TypeScriptコンパイル**
   ```bash
   npm run build
   ```

3. **サーバー起動**
   ```bash
   npm start
   ```

   または開発モード（自動リロード付き）:
   ```bash
   npm run dev
   ```

### アクセス方法

サーバー起動後、コンソールに表示されるURLからアクセスできます：

- **ローカル**: `http://localhost:3000`
- **ネットワーク**: `http://[あなたのIPアドレス]:3000`

## 使用方法

### 1. ユーザー名の設定
- アプリにアクセス後、ユーザー名を入力して参加

### 2. 画面共有の開始
1. 左サイドバーの「画面共有」で共有開始
2. ブラウザの画面共有許可ダイアログで共有対象を選択

### 3. 他のユーザーの画面を視聴
1. 左サイドバーの「利用可能な共有」セクションで視聴したい共有を選択
2. 「視聴」ボタンをクリック
3. メインエリアに共有画面が表示されます

### 4. 画面共有の停止
- 「視聴終了」ボタンをクリック、または共有しているタブ/ウィンドウを閉じる

## ディレクトリ構造

```
local-screen-share/
├── src/
│   └── server.ts          # TypeScriptサーバーコード
├── public/
│   └── index.html         # フロントエンドUI
├── dist/                  # コンパイル済みJavaScript
├── package.json           # パッケージ設定
├── tsconfig.json          # TypeScript設定
└── README.md             # このファイル
```

## 開発用コマンド

- `npm run generate-ssl`: ローカル開発用のSSL証明書を生成
- `npm run build`: TypeScriptをコンパイル
- `npm run dev`: 開発モード（ファイル変更時に自動リロード）
- `npm start`: 本番モードでサーバー起動
- `npm run clean`: コンパイル済みファイルを削除

## トラブルシューティング

### 画面共有が開始できない
- ブラウザが画面共有APIをサポートしているか確認
- HTTPSまたはlocalhostでアクセスしているか確認（Chrome等の制限）
- ブラウザの設定で画面共有が許可されているか確認

### 他のデバイスからアクセスできない
- サーバーが `0.0.0.0` でリッスンしているか確認
- ファイアウォールの設定を確認
- 同じWiFiネットワークに接続されているか確認

### 映像が表示されない
- WebRTCの接続状況を開発者ツールで確認
- ネットワークの帯域幅を確認
- ブラウザの互換性を確認

## ブラウザサポート

- Chrome 72+
- Firefox 66+
- Safari 12.1+
- Edge 79+

※画面共有機能は最新のブラウザでのみサポートされます

## セキュリティ注意事項

- このツールはローカルネットワーク内での使用を想定しています。
- 機密情報を含む画面の共有時は十分注意してください。
- `generate-ssl`で生成される証明書は開発用です。公開環境では正規の証明書を使用してください。
